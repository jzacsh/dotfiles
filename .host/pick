#!/bin/bash

srcthis() {
  [[ -f $1 ]] && source $1
}

# generic distro-specific config
prefix=$dir/distro.
if [[ -f /etc/arch-release ]]; then
   srcthis ${prefix}arch
elif [[ -f /etc/lsb-release ]]; then
  deb_dist_file=${prefix}$(awk -F'=' '/^DISTRIB_ID/{print tolower($2)}' /etc/lsb-release)
  srcthis $deb_dist_file
fi

# host-specific configuration
dir="$HOME/.host"
hostfile="$dir/host.$HOSTNAME"
srcthis $hostfile

